const g=e=>typeof e=="function",d=e=>typeof e=="object",{isArray:O}=Array;class K{constructor(t,i,s){this.message=i,this.target=t,this.value=s}}const P=null,U={true:1,"":1,1:1};function z(e,t,i,s,n){let{type:r,reflect:l,event:f,value:c,attr:u=Z(t)}=d(i)&&i!=P?i:{type:i},h=!(r==Function||r==P);Object.defineProperty(e,t,{configurable:!0,set(a){let o=this[t],{error:S,value:m}=Q(r,h&&g(a)?a(o):a);if(S&&m!=null)throw new K(this,`The value defined for prop '${t}' must be of type '${r.name}'`,m);o!=m&&(this.update({[t]:m}),f&&X(this,f),this.updated.then(()=>{l&&(this._ignoreAttr=u,q(this,r,u,this[t]),this._ignoreAttr=null)}))},get(){return this._props[t]}}),c!=null&&(n[t]=c),s[u]={prop:t,type:r}}const X=(e,{type:t,base:i=CustomEvent,...s})=>e.dispatchEvent(new i(t,s)),Z=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),q=(e,t,i,s)=>s==null||t==Boolean&&!s?e.removeAttribute(i):e.setAttribute(i,d(s)?JSON.stringify(s):t==Boolean?"":s),G=(e,t)=>e==Boolean?!!U[t]:e==Number?Number(t):e==Array||e==Object?JSON.parse(t):t,Q=(e,t)=>e==P?{value:t}:e!=String&&t===""?{value:null}:{}.toString.call(t)==`[object ${e.name}]`?{value:t,error:e==Number&&Number.isNaN(t)}:{value:t,error:!0};function W(e,t){let i={};function s(l,f){for(let c in i){let u=i[c];u[l]&&(u[0]=u[l](u[0],f))}}function n(l){let f;try{f=l()}finally{}return f}function r(l){return s(1,l),()=>{s(2,l),l&&(i={})}}return{load:n,cleanEffects:r}}const H={id:1,className:1,checked:1,value:1,selected:1},x={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},V={shadowDom:1,renderOnce:1,children:1,key:1},A={},I=[],tt=3,$=document;class L extends Text{get nodeType(){return-1}}let T=Symbol.for;const et=T("Atomico.ID"),R=T("Atomico.$$"),j=T("Atomico.Static");function st(e,t,...i){let s=t||A,{children:n}=s;n=n??(i.length?i:I);const r=e?e instanceof Node?1:e.prototype instanceof HTMLElement&&2:!1;return{$$:R,type:e,props:s,children:n,key:s.key,shadow:s.shadowDom,once:s.renderOnce,raw:r,is:s.is}}function v(e,t,i=et,s,n){let r;if(t&&t[i]&&t[i].vnode==e||e.$$!=R)return t;if(e||!t)if(n=n||e.type=="svg",r=e.type!="host"&&(t&&t[j]||(e.raw==1?t!=e.type:e.raw==2?!(t instanceof e.type):t?t.localName!=e.type:!t)),e.ref){e.ref[j]=!0;const o=e.ref.cloneNode(!0);return o[i]={vnode:e},o[j]=!0,o}else r&&e.type!=null&&(e.ref=t=e.raw==1?e.type:e.raw==2?new e.type:n?$.createElementNS("http://www.w3.org/2000/svg",e.type):$.createElement(e.type,e.is?{is:e.is}:void 0));let{vnode:l=A,cycle:f=0,fragment:c,handlers:u}=t[i]?t[i]:A,{children:h=I,props:a=A}=l;if(u=r?{}:u||{},e.once&&!r)return t;if(e.shadow&&!t.shadowRoot&&t.attachShadow({mode:"open"}),e.props!=a&&lt(t,a,e.props,u,n),e.children!==h){let o=e.shadow?t.shadowRoot:t;c=rt(e.children,c,o,i,!f&&s,n&&e.type=="foreignObject"?!1:n)}return f++,t[i]={vnode:e,handlers:u,fragment:c,cycle:f},t}function it(e,t){const i=new L(""),s=new L("");return e[t?"prepend":"append"](i),e.append(s),{markStart:i,markEnd:s}}function rt(e,t,i,s,n,r){e=e==null?null:O(e)?e:[e];let l=t||it(i,n),{markStart:f,markEnd:c,keyes:u}=l,h,a=u&&new Set,o=f;function S(m){let{length:Y}=m;for(let N=0;N<Y;N++){let b=m[N],_=typeof b;if(b==null||_=="boolean"||_=="function")continue;if(O(b)){S(b);continue}else if(_=="object"&&b.$$!=R)continue;let E=b.$$&&b.key,M=u&&E!=null&&u.get(E);o!=c&&o===M?a.delete(o):o=o==c?c:o.nextSibling;let y=u?M:o,p=y;if(b.$$)p=v(b,y,s,n,r);else{let C=b+"";p.nodeType!=tt?p=new Text(C):p.data!=C&&(p.data=C)}p!=o&&(u&&a.delete(p),!y||u?(i.insertBefore(p,o),u&&o!=c&&a.add(o)):y==c?i.insertBefore(p,c):(i.replaceChild(p,y),o=p)),E!=null&&(h=h||new Map,h.set(E,p))}}if(e&&S(e),o=o==c?c:o.nextSibling,t&&o!=c)for(;o!=c;){let m=o;o=o.nextSibling,m.remove()}return a&&a.forEach(m=>m.remove()),l.keyes=h,l}function lt(e,t,i,s,n){for(let r in t)r in i||w(e,r,t[r],null,n,s);for(let r in i)w(e,r,t[r],i[r],n,s)}function w(e,t,i,s,n,r){if(t=t=="class"&&!n?"className":t,i=i??null,s=s??null,t in e&&H[t]&&(i=e[t]),!(s===i||V[t]||t[0]=="_"))if(t[0]=="o"&&t[1]=="n"&&(g(s)||g(i)))ct(e,t.slice(2),s,r);else if(t=="ref")s&&(s.current=e);else if(t=="style"){let l=e.style;i=i||"",s=s||"";let f=d(i),c=d(s);if(f)for(let u in i)if(c)u in s||F(l,u,null);else break;if(c)for(let u in s){let h=s[u];f&&i[u]===h||F(l,u,h)}else l.cssText=s}else{let l=t[0]=="$"?t.slice(1):t;l===t&&(!n&&!x[t]&&t in e||g(s)||g(i))?e[t]=s??"":s==null?e.removeAttribute(l):e.setAttribute(l,d(s)?JSON.stringify(s):s)}}function ct(e,t,i,s){if(s.handleEvent||(s.handleEvent=n=>s[n.type].call(e,n)),i){if(!s[t]){let n=i.capture||i.once||i.passive?Object.assign({},i):null;e.addEventListener(t,s,n)}s[t]=i}else s[t]&&(e.removeEventListener(t,s),delete s[t])}function F(e,t,i){let s="setProperty";i==null&&(s="removeProperty",i=null),~t.indexOf("-")?e[s](t,i):e[t]=i}const k={sheet:!!document.adoptedStyleSheets,ssr:null};function ut(e,t=HTMLElement){let i={},s={},{props:n,styles:r}=e;return class extends t{constructor(){super();this._setup(),this._render=()=>e({...this._props});for(let f in s)this[f]=s[f]}static get styles(){return[super.styles,r]}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise(a=>this.mount=a),this.unmounted=new Promise(a=>this.unmount=a),this.symbolId=this.symbolId||Symbol();let f=W(),c,u=!0,h="hydrate"in this.dataset;this.update=a=>{if(c||(c=!0,this.updated=(this.updated||this.mounted).then(()=>{try{return v(f.load(this._render),this,this.symbolId,u&&h),c=!1,u&&(u=!1,nt(this)),!k.ssr&&f.cleanEffects()}finally{c=!1}}).then(o=>{o&&o()})),a)for(let o in a)this._props[o]=a[o];return this.updated},this.update(),await this.unmounted,f.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(f,c,u){if(i[f]){if(f===this._ignoreAttr||c===u)return;let{prop:h,type:a}=i[f];this[h]=G(a,u)}else super.attributeChangedCallback(f,c,u)}static get observedAttributes(){let f=super.observedAttributes||[];for(let c in n)z(this.prototype,c,n[c],i,s);return Object.keys(i).concat(f)}}}function nt(e){let{styles:t}=e.constructor,{shadowRoot:i}=e;i&&t.length&&(t=t.reduce(function s(n,r){return O(r)?r.reduce(s,n):r&&n.push(r),n},[]),k.sheet?i.adoptedStyleSheets=[...t]:t.map(s=>i.appendChild(s.cloneNode(!0))))}const B={};function at(e,...t){let i=e.raw.reduce((s,n,r)=>s+n+(t[r]||""),"");return B[i]=B[i]||ot(i)}function ot(e){if(k.sheet){let t=new CSSStyleSheet;return t.replaceSync(e),t}else{let t=$.createElement("style");return t.textContent=e,t}}var D=function(e,t,i,s){var n;t[0]=0;for(var r=1;r<t.length;r++){var l=t[r++],f=t[r]?(t[0]|=l?1:2,i[t[r++]]):t[++r];l===3?s[0]=f:l===4?s[1]=Object.assign(s[1]||{},f):l===5?(s[1]=s[1]||{})[t[++r]]=f:l===6?s[1][t[++r]]+=f+"":l?(n=e.apply(f,D(e,f,i,["",null])),s.push(n),f[0]?t[0]|=2:(t[r-2]=0,t[r]=n)):s.push(f)}return s},J=new Map;function ft(e){var t=J.get(this);return t||(t=new Map,J.set(this,t)),(t=D(this,t.get(e)||(t.set(e,t=function(i){for(var s,n,r=1,l="",f="",c=[0],u=function(o){r===1&&(o||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?c.push(0,o,l):r===3&&(o||l)?(c.push(3,o,l),r=2):r===2&&l==="..."&&o?c.push(4,o,0):r===2&&l&&!o?c.push(5,0,!0,l):r>=5&&((l||!o&&r===5)&&(c.push(r,0,l,n),r=6),o&&(c.push(r,o,0,n),r=6)),l=""},h=0;h<i.length;h++){h&&(r===1&&u(),u(h));for(var a=0;a<i[h].length;a++)s=i[h][a],r===1?s==="<"?(u(),c=[c],r=3):l+=s:r===4?l==="--"&&s===">"?(r=1,l=""):l=s+l[0]:f?s===f?f="":l+=s:s==='"'||s==="'"?f=s:s===">"?(u(),r=1):r&&(s==="="?(r=5,n=l,l=""):s==="/"&&(r<5||i[h][a+1]===">")?(u(),r===3&&(c=c[0]),r=c,(c=c[0]).push(2,0,r),r=0):s===" "||s==="	"||s===`
`||s==="\r"?(u(),r=2):l+=s),r===3&&l==="!--"&&(r=4,c=c[0])}return u(),c}(e)),t),arguments,[])).length>1?t:t[0]}ft.bind(st);export{ut as a,at as c,st as h};
